syntax = "proto3";

package geospatial;

import "geospatial.proto";
import "files.proto";
import "projects.proto";

// Aggregated service combining all RPC methods from different domains
service GeospatialService {
  // Basic services (from geospatial.proto)
  rpc HelloWorld(HelloWorldRequest) returns (HelloWorldResponse);
  rpc EchoParameter(EchoParameterRequest) returns (EchoParameterResponse);
  rpc HealthCheck(HealthCheckRequest) returns (HealthCheckResponse);
  
  // Geospatial data methods (from geospatial.proto)
  rpc GetFeatures(GetFeaturesRequest) returns (GetFeaturesResponse);
  rpc GetBatchDataStreamed(GetBatchDataRequest) returns (stream GetBatchDataChunk);
  
  // New columnar format for efficient large dataset processing
  rpc GetBatchDataColumnar(GetBatchDataRequest) returns (GetBatchDataColumnarResponse);
  rpc GetBatchDataColumnarStreamed(GetBatchDataRequest) returns (stream ColumnarDataChunk);
  
  // CSV file processing methods (from files.proto)
  rpc AnalyzeCsv(AnalyzeCsvRequest) returns (AnalyzeCsvResponse);
  rpc SendFile(SendFileRequest) returns (SendFileResponse);
  rpc GetLoadedDataStats(GetLoadedDataStatsRequest) returns (GetLoadedDataStatsResponse);
  rpc GetLoadedDataChunk(GetLoadedDataChunkRequest) returns (GetLoadedDataChunkResponse);
  
  // Project management methods (from projects.proto)
  rpc CreateProject(CreateProjectRequest) returns (CreateProjectResponse);
  rpc GetProjects(GetProjectsRequest) returns (GetProjectsResponse);
  rpc GetProject(GetProjectRequest) returns (GetProjectResponse);
  rpc UpdateProject(UpdateProjectRequest) returns (UpdateProjectResponse);
  rpc DeleteProject(DeleteProjectRequest) returns (DeleteProjectResponse);
  
  // File management methods (from projects.proto)
  rpc CreateFile(CreateFileRequest) returns (CreateFileResponse);
  rpc GetProjectFiles(GetProjectFilesRequest) returns (GetProjectFilesResponse);
  rpc DeleteFile(DeleteFileRequest) returns (DeleteFileResponse);
  
  // Enhanced CSV processing for projects (from projects.proto)
  rpc AnalyzeCsvForProject(AnalyzeCsvForProjectRequest) returns (AnalyzeCsvForProjectResponse);
  rpc ProcessDataset(ProcessDatasetRequest) returns (ProcessDatasetResponse);
  rpc GetDatasetData(GetDatasetDataRequest) returns (GetDatasetDataResponse);
}
